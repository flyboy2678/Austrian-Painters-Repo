<nz-modal
  [nzVisible]="this.addUserModalService.getVisible()"
  [nzFooter]="modalFooter"
  nzTitle="Add User"
  (nzOnCancel)="handleCancel()"
>
  <ng-container *nzModalContent>
    <form [formGroup]="addUserForm">
      <label for="name">Name</label>
      <input
        type="text"
        id="name"
        formControlName="name"
        required
        class="w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-purple_accent h-10"
      />
      <div class="h-7">
        <span
          *ngIf="
            addUserForm.get('name')?.invalid && addUserForm.get('name')?.touched
          "
          class="text-xs text-red-600 block mt-1"
          >Please enter a name</span
        >
      </div>
      <label for="surname">Surname</label>
      <input
        type="text"
        id="surname"
        formControlName="surname"
        required
        class="w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-purple_accent h-10"
      />
      <div class="h-7">
        <span
          *ngIf="
            addUserForm.get('surname')?.invalid &&
            addUserForm.get('surname')?.touched
          "
          class="text-xs text-red-600 block mt-1"
          >Please enter a surname</span
        >
      </div>
      <label for="email">Email</label>
      <input
        type="email"
        id="email"
        formControlName="email"
        required
        class="w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-purple_accent h-10"
      />
      <div class="h-7">
        <span
          *ngIf="
            addUserForm.get('email')?.invalid &&
            addUserForm.get('email')?.touched
          "
          class="text-xs text-red-600 block mt-1"
          >Please enter a valid email address</span
        >
      </div>
      <label for="password">Password</label>
      <input
        type="password"
        id="password"
        formControlName="password"
        required
        class="w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-purple_accent h-10"
      />
      <div class="h-7">
        <span
          *ngIf="
            addUserForm.get('password')?.invalid &&
            addUserForm.get('password')?.touched
          "
          class="text-xs text-red-600 block mt-1"
          >Please enter a password</span
        >
      </div>
      <label for="confirmPassword">Confirm Password</label>
      <input
        type="password"
        id="confirmPassword"
        formControlName="confirmPassword"
        required
        class="w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-purple_accent h-10"
      />
      <div class="h-7">
        <span
          *ngIf="
            addUserForm.get('confirmPassword')?.invalid &&
            addUserForm.get('confirmPassword')?.touched &&
            addUserForm.get('confirmPassword')?.value !==
              addUserForm.get('password')?.value
          "
          class="text-xs text-red-600 block mt-1"
          >Passwords do not match</span
        >
      </div>
      <label for="role">Role</label>
      <nz-select
        id="role"
        formControlName="role"
        class="w-full mt-2"
        placeholder="Select a role"
      >
        <nz-option [nzValue]="admin" nzLabel="Manager"></nz-option>
        <nz-option [nzValue]="employee" nzLabel="User"></nz-option>
      </nz-select>
      <div class="h-7">
        <span
          *ngIf="
            addUserForm.get('role')?.invalid && addUserForm.get('role')?.touched
          "
          class="text-xs text-red-600 block mt-1"
          >Please select a role</span
        >
      </div>
    </form>
  </ng-container>
  <ng-template #modalFooter>
    <button
      nz-button
      nzType="'default'"
      (click)="handleCancel()"
      class="border border-gray-400 rounded-md p-2 mr-2"
    >
      Cancel
    </button>
    <button
      nz-button
      nzType="'primary'"
      (click)="handleSubmit()"
      [disabled]="addUserForm.invalid"
      class="rounded-md p-2 bg-purple_accent text-white disabled:opacity-50"
    >
      Submit
    </button>
  </ng-template>
</nz-modal>
